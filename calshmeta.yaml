mixed-port: 7890
allow-lan: false
bind-address: "*"
mode: rule
log-level: info
ipv6: true
external-controller: 0.0.0.0:9090
dns:

  enable: true
  listen: 0.0.0.0:7874
  ipv6: true
  default-nameserver:
  - 114.114.114.114
  - 223.5.5.5
  enhanced-mode: fake-ip
  fake-ip-filter:
  - "+.lan"
  - "+.stun.*.*"
  - "+.stun.*.*.*"
  - "+.stun.*.*.*.*"
  - "+.stun.*.*.*.*.*"
  - lens.l.google.com
  - "*.n.n.srv.nintendo.net"
  - "+.stun.playstation.net"
  - xbox.*.*.microsoft.com
  - "*.*.xboxlive.com"
  - "*.msftncsi.com"
  - "*.msftconnecttest.com"
  - "*.mcdn.bilivideo.cn"
  
proxy-providers:
  P1:
    type: http
    interval: 1800
    health-check: *1
    url: "https://dingyue.oyix.de/?token=d4bdaac9-e185-461c-9fde-5d2c8d2eae72"
    path: "./proxy_providers/P1.yaml"
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300

proxy-groups:
  - name: Youtube
    type: url-test
    interval: 300
    proxies:
      - é¦™æ¸¯
      - æ—¥éŸ©
      - æ–°åŠ å¡
      - ç¾å›½
      - æ‰‹åŠ¨
      
  - name: OpenAI
    type: url-test
    interval: 300
    proxies:
      - é¦™æ¸¯
      - æ—¥éŸ©
      - æ–°åŠ å¡
      - ç¾å›½
      - æ‰‹åŠ¨
      
  - name: TikTok
    type: url-test
    interval: 300
    proxies:
      - é¦™æ¸¯
      - æ—¥éŸ©
      - æ–°åŠ å¡
      - ç¾å›½
      - æ‰‹åŠ¨
      
  - name: Netflix
    type: url-test
    interval: 300
    proxies:
      - é¦™æ¸¯
      - æ—¥éŸ©
      - æ–°åŠ å¡
      - ç¾å›½
      
  - name: DisneyP
    type: url-test
    interval: 300
    proxies:
      - é¦™æ¸¯
      - æ—¥éŸ©
      - æ–°åŠ å¡
      - ç¾å›½
  
  - name: åœ°åŒºé€‰æ‹©
    type: select
    proxies: 
      - é¦™æ¸¯
      - æ—¥éŸ©
      - æ–°åŠ å¡
      - ç¾å›½
      - æ‰‹åŠ¨
      - DIRECT
  
  - name: æ‰‹åŠ¨
    type: select
    use: 
      - P1
    
  - name: é¦™æ¸¯
    type: url-test
    url: "http://www.gstatic.com/generate_204"
    interval: 600
    lazy: true
    use: 
      - P1
    filter: "^(?=.*((?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$"
  
  - name: æ—¥éŸ©
    type: url-test
    url: "http://www.gstatic.com/generate_204"
    interval: 300
    lazy: true
    use: 
      - P1
    filter: "^(?=.*((?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|é¦–å°”|æ˜¥å·|éŸ©|éŸ“|(\b(JP|Japan|KR|Korea)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$"
  
  - name: æ–°åŠ å¡
    type: url-test
    url: "http://www.gstatic.com/generate_204"
    interval: 300
    lazy: true
    use: 
      - P1
    filter: "^(?=.*((?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$"
  
  - name: ç¾å›½
    type: url-test
    url: "http://www.gstatic.com/generate_204"
    interval: 300
    lazy: true
    use: 
      - P1
    filter: "^(?=.*((?i)\U0001F1FA\U0001F1F8|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|(\\b(US|UnitedStates)\\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|(\\b(GAME)\\b))).*$"

rule-providers:
 TikTok:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/TikTok/TikTok.list"
    path: "./RuleSet/TikTok.yaml"
    interval: 43200

 Apple:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Apple.list"
    path: "./RuleSet/Apple.yaml"
    interval: 43200

  Google:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleFCM.list"
    path: "./RuleSet/Google.yaml"
    interval: 43200

  OpenAI:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/juewuy/ShellClash/master/rules/ai.list"
    path: "./RuleSet/OpenAI.yaml"
    interval: 43200

  Telegram:
    type: http
    behavior: classical
    interval: 43200
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Telegram.list"
    path: "./RuleSet/Telegram.yaml"

  China:
    type: http
    behavior: classical
    interval: 43200
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list"
    path: "./RuleSet/China.yaml"

  DisneyP:
    type: http
    behavior: classical
    interval: 43200
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/DisneyPlus.list"
    path: "./RuleSet/DisneyP.yaml"

  NETFLIX:
    type: http
    behavior: classical
    interval: 43200
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Netflix.list"
    path: "./RuleSet/NETFLIX.yaml"
    
  Discord:
    type: http
    behavior: classical
    interval: 43200
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Discord/Discord.list"
    path: "./RuleSet/Discord.yaml"

  EMBY:
    type: http
    behavior: classical
    interval: 43200
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Emby/Emby.list"
    path: "./RuleSet/EMBY.yaml"

  Github:
    type: http
    behavior: classical
    interval: 43200
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GitHub/GitHub.list"
    path: "./RuleSet/Github.yaml"

  PT:
    type: http
    behavior: classical
    interval: 43200
    url: "https://raw.githubusercontent.com/iniwex5/tools/main/loon/PT.list"
    path: "./RuleSet/PT.yaml"

  User:
    type: http
    behavior: classical
    interval: 43200
    url: "https://raw.githubusercontent.com/iniwex5/tools/main/loon/user.list"
    path: "./RuleSet/User.yaml"
    
  ChinaIP:
    type: http
    behavior: classical
    interval: 43200
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list"
    path: "./RuleSet/ChinaIP.yaml"

  Lan:
    type: http
    behavior: classical
    interval: 43200
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Lan/Lan.yaml"
    path: "./RuleSet/Lan.yaml"

rules:
  - DOMAIN-KEYWORD,youtube,Youtube
  - DOMAIN,youtubei.googleapis.com,Youtube
  - DOMAIN,yt3.ggpht.com,Youtube
  - DOMAIN-SUFFIX,googlevideo.com,Youtube
  - DOMAIN-SUFFIX,gvt2.com,Youtube
  - DOMAIN-SUFFIX,withyoutube.com,Youtube
  - DOMAIN-SUFFIX,youtu.be,Youtube
  - DOMAIN-SUFFIX,youtube-nocookie.com,Youtube
  - DOMAIN-SUFFIX,youtube.com,Youtube
  - DOMAIN-SUFFIX,youtubeeducation.com,Youtube
  - DOMAIN-SUFFIX,youtubegaming.com,Youtube
  - DOMAIN-SUFFIX,youtubekids.com,Youtube
  - DOMAIN-SUFFIX,yt.be,Youtube
  - DOMAIN-SUFFIX,api2d.net,DIRECT
  - DOMAIN-SUFFIX,bing.com,åœ°åŒºé€‰æ‹©
  - RULE-SET,Lan,DIRECT
  - RULE-SET,Apple,DIRECT
  - RULE-SET,Telegram,åœ°åŒºé€‰æ‹©,no-resolve
  - RULE-SET,Google,åœ°åŒºé€‰æ‹©
  - RULE-SET,China,DIRECT
  - RULE-SET,PT,DIRECT
  - RULE-SET,OpenAI,OpenAI
  - RULE-SET,TikTok,TikTok
  - RULE-SET,User,åœ°åŒºé€‰æ‹©
  - RULE-SET,Github,åœ°åŒºé€‰æ‹©
  - RULE-SET,Discord,åœ°åŒºé€‰æ‹©
  - RULE-SET,DisneyP,DisneyP
  - RULE-SET,NETFLIX,NETFLIX
  - RULE-SET,EMBY,DIRECT
  - RULE-SET,ChinaIP,DIRECT
  - MATCH,åœ°åŒºé€‰æ‹©
